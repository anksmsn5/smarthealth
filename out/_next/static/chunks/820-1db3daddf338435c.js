"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[820],{7820:(e,a,s)=>{s.d(a,{default:()=>f});var t=s(5155),l=s(9137),n=s.n(l),r=s(2115),i=s(8762),o=s(3568),c=s(5695),d=s(883),m=s(9981);function x(e){let{visible:a,onClose:s,pkg:l,onPurchase:r}=e;return a&&l?(0,t.jsxs)("div",{className:"jsx-fc2a42af065718c1 modal-backdrop",children:[(0,t.jsxs)("div",{className:"jsx-fc2a42af065718c1 modal-content text-start",children:[(0,t.jsxs)("div",{className:"jsx-fc2a42af065718c1 d-flex justify-content-between align-items-center mb-3",children:[(0,t.jsxs)("h3",{className:"jsx-fc2a42af065718c1 mb-0",children:["Package: ",l.package_name]}),(0,t.jsxs)("h4",{className:"jsx-fc2a42af065718c1 mb-0 text-success",children:["₹",l.amount]})]}),(0,t.jsx)("hr",{className:"jsx-fc2a42af065718c1"}),(0,t.jsx)("div",{className:"jsx-fc2a42af065718c1 features mt-3",children:l.features.map((e,a)=>(0,t.jsxs)("div",{className:"jsx-fc2a42af065718c1 plan-row",children:[(0,t.jsx)("div",{className:"jsx-fc2a42af065718c1 plan-left",children:(0,t.jsxs)("div",{className:"jsx-fc2a42af065718c1 plan-text",children:[e.feature,(0,t.jsx)("span",{className:"jsx-fc2a42af065718c1",children:e.subheading})]})}),(0,t.jsx)("div",{className:"jsx-fc2a42af065718c1 plan-right",children:"number"!=typeof e.price&&isNaN(Number(e.price))?e.price:"₹ ".concat(e.price)})]},a))}),(0,t.jsxs)("div",{className:"jsx-fc2a42af065718c1 button-group mt-4",children:[(0,t.jsx)("button",{onClick:r,className:"jsx-fc2a42af065718c1 btn btn-success me-2",children:"Purchase Now"}),(0,t.jsx)("button",{onClick:s,className:"jsx-fc2a42af065718c1 btn btn-secondary ml-3",children:"Close"})]})]}),(0,t.jsx)(n(),{id:"fc2a42af065718c1",children:".modal-backdrop.jsx-fc2a42af065718c1{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:999;overflow:auto;padding:2rem}.modal-content.jsx-fc2a42af065718c1{background:#fff;padding:2rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;width:100%;max-width:1e3px;max-height:90vh;overflow-y:auto}.features.jsx-fc2a42af065718c1{margin-top:1rem}.plan-row.jsx-fc2a42af065718c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:1rem;gap:10px;border-bottom:1px solid#ddd;padding-bottom:.5rem;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap}.plan-left.jsx-fc2a42af065718c1{-webkit-box-flex:1;-webkit-flex:1 1 70%;-moz-box-flex:1;-ms-flex:1 1 70%;flex:1 1 70%}.plan-right.jsx-fc2a42af065718c1{-webkit-box-flex:1;-webkit-flex:1 1 30%;-moz-box-flex:1;-ms-flex:1 1 30%;flex:1 1 30%;text-align:right;font-weight:bold;white-space:nowrap}.plan-text.jsx-fc2a42af065718c1{font-size:1rem;font-weight:500}.plan-text.jsx-fc2a42af065718c1 span.jsx-fc2a42af065718c1{display:block;font-size:.85rem;color:yellow;margin-top:.3rem}.button-group.jsx-fc2a42af065718c1{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;gap:1rem}@media(max-width:768px){.plan-row.jsx-fc2a42af065718c1{-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:start;-webkit-align-items:flex-start;-moz-box-align:start;-ms-flex-align:start;align-items:flex-start}.plan-right.jsx-fc2a42af065718c1{text-align:left;margin-top:.5rem}.modal-content.jsx-fc2a42af065718c1{padding:1.2rem}}"})]}):null}function u(e){let{visible:a,onClose:s,onRegisterClick:l}=e;return a?(0,t.jsxs)("div",{className:"jsx-e31f205de5848ba6 modal-backdrop",children:[(0,t.jsxs)("div",{className:"jsx-e31f205de5848ba6 modal-content",children:[(0,t.jsx)(i.A,{redirection:!1,onSuccess:s,logintype:"User"}),(0,t.jsxs)("p",{className:"jsx-e31f205de5848ba6 mt-3",children:["Don't have an account?"," ",(0,t.jsx)("button",{onClick:l,className:"jsx-e31f205de5848ba6 btn btn-link",children:"Register"})]}),(0,t.jsx)("button",{onClick:s,className:"jsx-e31f205de5848ba6 btn btn-secondary mt-3",children:"Close"})]}),(0,t.jsx)(n(),{id:"e31f205de5848ba6",children:".modal-backdrop.jsx-e31f205de5848ba6{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:999}.modal-content.jsx-e31f205de5848ba6{background:#fff;padding:2rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;max-width:400px;width:90%;text-align:center}"})]}):null}function p(e){let{visible:a,onClose:s}=e;return a?(0,t.jsxs)("div",{className:"jsx-e31f205de5848ba6 modal-backdrop",children:[(0,t.jsxs)("div",{className:"jsx-e31f205de5848ba6 modal-content",children:[(0,t.jsx)(m.default,{redirection:!1,onSuccess:s,type:7,referredby:""}),(0,t.jsx)("button",{onClick:s,className:"jsx-e31f205de5848ba6 btn btn-secondary mt-3",children:"Close"})]}),(0,t.jsx)(n(),{id:"e31f205de5848ba6",children:".modal-backdrop.jsx-e31f205de5848ba6{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;z-index:999}.modal-content.jsx-e31f205de5848ba6{background:#fff;padding:2rem;-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;max-width:400px;width:90%;text-align:center}"})]}):null}function f(e){let{customer_id:a,agent_id:s,purchasing_from:l}=e,[n,i]=(0,r.useState)([]),[m,f]=(0,r.useState)(!0),[b,g]=(0,r.useState)(!1),[h,j]=(0,r.useState)(!1),[y,w]=(0,r.useState)(!1),[v,N]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[_,C]=(0,r.useState)(null),P=(0,c.useRouter)(),z=async()=>{let e=localStorage.getItem("id"),t=null==_?void 0:_.id;if(!e)return void o.Ay.error("User Not Logged In.");f(!0);try{let n=await fetch(d.eT,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e,package_id:t,customer_id:a,agent_id:s,purchasing_from:l})}),r=await n.json();n.ok?(o.Ay.success("Package Purchased Successfully."),P.push("/userpanel/orders")):o.Ay.error((null==r?void 0:r.message)||"Some error occurred.")}catch(e){o.Ay.error("Error connecting to server."),console.error(e)}finally{f(!1)}};(0,r.useEffect)(()=>{g(!0),S(!!localStorage.getItem("id")),fetch(d.ox).then(e=>e.json()).then(e=>{i(e.data),f(!1)}).catch(e=>{console.error("Failed to fetch packages:",e),f(!1)})},[]);let A=e=>{C(e),j(!0)},I=async(e,a,s)=>{if(!a||!s)return void o.Ay.error("Agent ID or Customer ID missing.");try{let t=await fetch(d.Sy,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({agent_id:a,customer_id:s,package_id:e.id})}),l=await t.json();t.ok?a?(o.Ay.success("Package assigned successfully."),window.location.reload()):o.Ay.success("Package Purchased successfully."):o.Ay.error(l.message||"Failed to assign package.")}catch(e){console.error("Error:",e),o.Ay.error("Server error. Please try again.")}};return b?(0,t.jsxs)("section",{className:s?"":"pricing-area",children:[(0,t.jsxs)("div",{className:"container",children:[s?(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"row d-flex justify-content-center",children:(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"section-title text-center",children:[(0,t.jsx)("h2",{children:"Our Plans"}),(0,t.jsx)("p",{children:"Select a Package and Assign !"})]})})})}):(0,t.jsx)("div",{className:"row d-flex justify-content-center",children:(0,t.jsx)("div",{className:"col-lg-6",children:(0,t.jsxs)("div",{className:"section-title text-center",children:[(0,t.jsx)("h2",{children:"Our Plans"}),(0,t.jsx)("p",{children:"Start your journey with Smart Health. Purchase our Plans."})]})})}),m?(0,t.jsx)("div",{className:"text-center",children:"Loading packages..."}):(0,t.jsx)("div",{className:"row",children:n.map(e=>(0,t.jsx)("div",{className:"col-lg-6 col-md-6 mt-5 d-flex",children:(0,t.jsxs)("div",{className:"single-price w-100 d-flex flex-column p-3",children:[(0,t.jsx)("div",{className:"card-header bg-primary p-4 text-white text-center",children:(0,t.jsx)("h4",{className:"text-white uppercase-text",children:e.package_name})}),(0,t.jsxs)("div",{className:"flex-grow-1 d-flex flex-column justify-content-between",children:[(0,t.jsx)("div",{className:"features-list",children:e.features.map((e,a)=>(0,t.jsxs)("div",{className:"plan-row mt-3",children:[(0,t.jsx)("div",{className:"plan-left",children:(0,t.jsx)("div",{className:"plan-text",dangerouslySetInnerHTML:{__html:e.feature}})}),(0,t.jsx)("div",{className:"plan-right",children:"number"!=typeof e.price&&isNaN(Number(e.price))?e.price:"₹ ".concat(e.price)})]},a))}),(0,t.jsxs)("h2",{className:"mt-3 text-center",children:[e.amount,"/- INR"]})]}),(0,t.jsx)("div",{className:"text-center mt-auto mb-3",children:s?(0,t.jsx)("button",{className:"primary-btn price-btn",onClick:()=>I(e,s,a||0),children:"Assign Package"}):(0,t.jsx)("button",{className:"primary-btn price-btn",onClick:()=>A(e),children:"Details"})})]})},e.id))})]}),(0,t.jsx)(x,{visible:h,onClose:()=>j(!1),pkg:_,onPurchase:()=>{k?z():w(!0)}}),(0,t.jsx)(u,{visible:y,onClose:()=>w(!1),onRegisterClick:()=>{w(!1),N(!0)}}),(0,t.jsx)(p,{visible:v,onClose:()=>N(!1)})]}):null}},8762:(e,a,s)=>{s.d(a,{A:()=>o});var t=s(5155),l=s(2115),n=s(5695),r=s(3568),i=s(883);function o(e){let{redirection:a,onSuccess:s,logintype:o}=e,[c,d]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),u=(0,n.useRouter)(),[p,f]=(0,l.useState)(!1),b=async e=>{e.preventDefault(),f(!0);let t="User"===o?7:3;try{let e=await fetch(i.pH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:c,password:m,type:t})}),l=await e.json();e.ok?(localStorage.setItem("name",l.user.name),localStorage.setItem("id",l.user.id),localStorage.setItem("type",l.user.type),a?(7==l.user.type&&(alert(l.user.type),u.push("/userpanel/dashboard")),3==l.user.type&&(alert(l.user.type),u.push("/agent/dashboard"))):(null==s||s(),location.reload())):r.Ay.error((null==l?void 0:l.message)||"Invalid Credentials.")}catch(e){r.Ay.error("Invalid Credentials."),console.error(e)}finally{f(!1)}};return(0,t.jsx)("form",{onSubmit:b,children:(0,t.jsxs)("div",{className:"row",children:[(0,t.jsx)("div",{className:"col-md-12 form-group",children:(0,t.jsxs)("h3",{children:[o," Login"]})}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Enter Mobile Number"}),(0,t.jsx)("input",{type:"text",name:"mobile",value:c,onChange:e=>d(e.target.value),className:"form-control"})]}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Enter Password"}),(0,t.jsx)("input",{type:"password",name:"password",value:m,onChange:e=>x(e.target.value),className:"form-control"})]}),(0,t.jsx)("div",{className:"col-md-12 form-group",children:(0,t.jsx)("input",{type:"submit",className:"btn btn-primary",value:p?"Logging in...":"Login",disabled:p})})]})})}},9368:(e,a,s)=>{s.d(a,{A:()=>n});var t=s(5155),l=s(2115);function n(e){let{onPlaceSelected:a}=e,s=(0,l.useRef)(null),[n,r]=(0,l.useState)(!1),[i,o]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,x]=(0,l.useState)(""),[u,p]=(0,l.useState)(""),[f,b]=(0,l.useState)("");return(0,l.useEffect)(()=>{(()=>{if(document.getElementById("google-maps"))return r(!0);let e=document.createElement("script");e.id="google-maps",e.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDGiOkN66dsD9vfXhO_GEg6JPpPVd5mDs&libraries=places",e.async=!0,e.onload=()=>r(!0),document.body.appendChild(e)})()},[]),(0,l.useEffect)(()=>{if(!n||!window.google||!s.current)return;let e=new window.google.maps.places.Autocomplete(s.current,{types:["geocode"],componentRestrictions:{country:"in"}});e.addListener("place_changed",()=>{var s,t,l,n;let r=e.getPlace();if(!r.address_components)return;let i=r.address_components,c=e=>{var a;return(null==(a=i.find(a=>a.types.includes(e)))?void 0:a.long_name)||""},m=c("locality")||c("administrative_area_level_2"),u=c("administrative_area_level_1"),f=c("postal_code");d(m),o(u),x(f);let g=null==(t=r.geometry)||null==(s=t.location)?void 0:s.lat(),h=null==(n=r.geometry)||null==(l=n.location)?void 0:l.lng();p((null==g?void 0:g.toString())||""),b((null==h?void 0:h.toString())||""),a(r)})},[n,a]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{ref:s,type:"text",placeholder:"Enter a location",className:"form-control mb-2",onKeyDown:e=>{"Enter"===e.key&&e.preventDefault()}}),(0,t.jsx)("input",{type:"hidden",name:"city",value:c}),(0,t.jsx)("input",{type:"hidden",name:"state",value:i}),(0,t.jsx)("input",{type:"hidden",name:"pincode",value:m}),(0,t.jsx)("input",{type:"hidden",name:"latitude",value:u}),(0,t.jsx)("input",{type:"hidden",name:"longitude",value:f})]})}},9981:(e,a,s)=>{s.r(a),s.d(a,{default:()=>c});var t=s(5155),l=s(2115),n=s(3568),r=s(883),i=s(5695),o=s(9368);let c=e=>{let{referredby:a,type:s,onClose:c,onSuccess:d,customerData:m,redirection:x}=e,[u,p]=(0,l.useState)({id:"",name:"",email:"",mobile:"",password:"",confirm_password:""}),[f,b]=(0,l.useState)({latitude:null,longitude:null,city:"",address:"",state:""}),[g,h]=(0,l.useState)({}),[j,y]=(0,l.useState)(!1),[w,v]=(0,l.useState)(null),[N,k]=(0,l.useState)(null),S=(0,i.useRouter)();(0,l.useEffect)(()=>{m&&(p({id:m.id,name:m.name||"",email:m.email||"",mobile:m.mobile||"",password:"",confirm_password:""}),b(e=>{var a,s,t,l,n;return{...e,latitude:null!=(a=m.latitude)?a:null,longitude:null!=(s=m.longitude)?s:null,address:null!=(t=m.address)?t:"",city:null!=(l=m.city)?l:"",state:null!=(n=m.state)?n:""}}))},[m]);let _=e=>{let{name:a,value:s}=e.target;p(e=>({...e,[a]:s})),h(e=>({...e,[a]:""}))},C=()=>{let e={};u.name.trim()||(e.name="Name is required."),u.email.includes("@")||(e.email="Invalid email."),u.mobile.match(/^\d{10}$/)||(e.mobile="Mobile must be 10 digits.");let a=!!(null==m?void 0:m.id),s=u.password.trim().length>0||u.confirm_password.trim().length>0;return(!a||s)&&(u.password.length<6&&(e.password="Password must be at least 6 characters."),u.password!==u.confirm_password&&(e.confirm_password="Passwords do not match.")),h(e),0===Object.keys(e).length},P=async e=>{if(e.preventDefault(),v(null),k(null),C()){y(!0);try{let e={...u,type:s,latitude:f.latitude,longitude:f.longitude,city:f.city,state:f.state,address:f.address};a&&!isNaN(Number(a))&&(e.referredby=Number(a));let t=await fetch(r.TU,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),l=await t.json();if(!t.ok||!1===l.status)return void n.Ay.error((null==l?void 0:l.message)||"Something went wrong.");n.Ay.success("Registration successful!"),""===a&&(localStorage.setItem("name",l.data.name),localStorage.setItem("id",l.data.id),localStorage.setItem("type",l.data.type)),x?7==l.data.type?S.push("/userpanel/dashboard"):3==l.data.type&&S.push("/agent/dashboard"):(null==d||d(),location.reload()),null==c||c()}catch(e){k("Network error. Please try again.")}finally{y(!1)}}};return(0,t.jsx)("form",{onSubmit:P,children:(0,t.jsxs)("div",{className:"row",children:[!c&&(0,t.jsx)("div",{className:"col-md-12 form-group",children:(0,t.jsxs)("h3",{children:["Create ",3===s?"Agent":7===s?"Customer":"User"," Account"]})}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Name"}),(0,t.jsx)("input",{type:"text",name:"name",className:"form-control",value:u.name,onChange:_}),g.name&&(0,t.jsx)("small",{className:"text-danger",children:g.name})]}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Email"}),(0,t.jsx)("input",{type:"text",name:"email",className:"form-control",value:u.email,onChange:_}),g.email&&(0,t.jsx)("small",{className:"text-danger",children:g.email})]}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Mobile"}),(0,t.jsx)("input",{type:"text",name:"mobile",className:"form-control",value:u.mobile,onChange:_}),g.mobile&&(0,t.jsx)("small",{className:"text-danger",children:g.mobile})]}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsxs)("label",{children:["Address",a]}),(0,t.jsx)(o.A,{onPlaceSelected:e=>{var a,s,t,l;if(!e.geometry||!e.address_components)return;let n=e.formatted_address||"",r=null!=(t=null==(a=e.geometry.location)?void 0:a.lat())?t:null,i=null!=(l=null==(s=e.geometry.location)?void 0:s.lng())?l:null,o=e.address_components.find(e=>e.types.includes("locality")),c=e.address_components.find(e=>e.types.includes("administrative_area_level_1"));b({latitude:r,longitude:i,address:n,city:(null==o?void 0:o.long_name)||"",state:(null==c?void 0:c.long_name)||""})}}),f.address&&(0,t.jsx)("small",{className:"form-text text-muted",children:f.address})]}),(0,t.jsxs)("div",{className:"col-md-6 form-group",children:[(0,t.jsx)("label",{children:"City"}),(0,t.jsx)("input",{type:"text",name:"city",className:"form-control",value:f.city,readOnly:!0})]}),(0,t.jsxs)("div",{className:"col-md-6 form-group",children:[(0,t.jsx)("label",{children:"State"}),(0,t.jsx)("input",{type:"text",name:"state",className:"form-control",value:f.state,readOnly:!0})]}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Password"}),(0,t.jsx)("input",{type:"password",name:"password",className:"form-control",value:u.password,onChange:_}),g.password&&(0,t.jsx)("small",{className:"text-danger",children:g.password})]}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("label",{children:"Confirm Password"}),(0,t.jsx)("input",{type:"password",name:"confirm_password",className:"form-control",value:u.confirm_password,onChange:_}),g.confirm_password&&(0,t.jsx)("small",{className:"text-danger",children:g.confirm_password})]}),N&&(0,t.jsx)("div",{className:"col-md-12 form-group text-danger",children:N}),w&&(0,t.jsx)("div",{className:"col-md-12 form-group text-success",children:w}),(0,t.jsxs)("div",{className:"col-md-12 form-group",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:j,children:j?"Creating Account...":"Create Account"}),c&&(0,t.jsx)("button",{type:"button",className:"btn btn-secondary ml-5",onClick:c,children:"Close"})]})]})})}}}]);