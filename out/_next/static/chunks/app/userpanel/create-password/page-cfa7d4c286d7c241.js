(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3247],{1362:(e,s,r)=>{"use strict";r.d(s,{A:()=>a});var t=r(5155);function a(){return(0,t.jsx)("footer",{className:"w-full bg-gray-100 text-center text-sm py-4 mt-auto lg:ml-64",children:(0,t.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," My App. All rights reserved."]})})}},7628:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>d});var t=r(5155),a=r(2115),l=r(3568),n=r(883),o=r(143),i=r(1362),c=r(5695);let d=()=>{let[e,s]=(0,a.useState)(""),[r,d]=(0,a.useState)(""),[m,u]=(0,a.useState)(""),[h,f]=(0,a.useState)(null),[p,w]=(0,a.useState)(!1),v=(0,c.useRouter)();(0,a.useEffect)(()=>{f(localStorage.getItem("id"))},[]);let g=async t=>{if(t.preventDefault(),""==e)return void l.Ay.error("Enter password.");if(""==r)return void l.Ay.error("Enter Confirm New  password.");if(e!==r)return void l.Ay.error("New Password and confirm new password do not match.");w(!0);try{let t=await fetch(n._k,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:h,newPassword:e,confirmPassword:r})}),a=await t.json();t.ok?(l.Ay.success("Password has been created successfully."),s(""),d(""),localStorage.removeItem("name"),localStorage.removeItem("id"),localStorage.removeItem("email"),localStorage.removeItem("type"),v.push("/user/login")):l.Ay.error(a.message||"Failed to change password.")}catch(e){l.Ay.error("Server Error!")}finally{w(!1)}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.default,{}),(0,t.jsx)("div",{className:"min-vh-100 mt-5d-flex justify-content-center align-items-center bg-light",children:(0,t.jsx)("div",{className:"container d-flex justify-content-center",children:(0,t.jsxs)("div",{className:"card p-4 shadow mt-5 mb-5",style:{maxWidth:"400px",width:"100%"},children:[(0,t.jsx)("h4",{className:"mb-3",children:"Create Password"}),m&&(0,t.jsx)("div",{className:"alert alert-info",children:m}),(0,t.jsxs)("form",{onSubmit:g,children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"New Password"}),(0,t.jsx)("input",{type:"password",className:"form-control",value:e,onChange:e=>s(e.target.value)})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label",children:"Confirm New Password"}),(0,t.jsx)("input",{type:"password",className:"form-control",value:r,onChange:e=>d(e.target.value)})]}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:p,children:p?"Updating...":"Update Password"})]})]})})}),(0,t.jsx)(i.A,{})]})}},9629:(e,s,r)=>{Promise.resolve().then(r.bind(r,7628))}},e=>{var s=s=>e(e.s=s);e.O(0,[9675,6711,5180,3568,143,8441,1684,7358],()=>s(9629)),_N_E=e.O()}]);