(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7375],{1362:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});var s=t(5155);function r(){return(0,s.jsx)("footer",{className:"w-full bg-gray-100 text-center text-sm py-4 mt-auto lg:ml-64",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," My App. All rights reserved."]})})}},3893:(e,a,t)=>{Promise.resolve().then(t.bind(t,9236))},9236:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(5155),r=t(2115),l=t(7124),n=t(883),o=t(143),c=t(1362);let d=()=>{let[e,a]=(0,r.useState)([]),[t,d]=(0,r.useState)([]),[i,m]=(0,r.useState)(!0),[u,b]=(0,r.useState)(null),[h,x]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("id");e?b(Number(e)):(console.warn("No user_id found in localStorage"),m(!1))},[]),(0,r.useEffect)(()=>{u&&p(u)},[u]);let p=async e=>{try{let t=await fetch(n.DW,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})}),s=await t.json();a(s.data),d(s.data)}catch(e){console.error("Error loading data:",e)}finally{m(!1)}};(0,r.useEffect)(()=>{d(e.filter(e=>e.patient_name.toLowerCase().includes(h.toLowerCase())||e.order_code.toLowerCase().includes(h.toLowerCase())))},[h,e]);let f=[{name:"Order ID",selector:e=>(0,s.jsxs)("div",{className:"d-flex flex-column",children:[(0,s.jsx)("span",{children:e.order_code}),"Uploaded"===e.status&&e.report_path&&(0,s.jsxs)("a",{href:"".concat(n.kx).concat(e.report_path),className:"badge bg-success text-white mt-1",download:!0,target:"_blank",rel:"noopener noreferrer",children:[(0,s.jsx)("i",{className:"fa fa-download me-1"}),"Download"]})]}),sortable:!0},{name:"Patient Name",selector:e=>e.patient_name,sortable:!0},{name:"Email",selector:e=>e.email,sortable:!0},{name:"Mobile",selector:e=>e.mobile,sortable:!0},{name:"Age",selector:e=>e.age,sortable:!0},{name:"Amount",selector:e=>"â‚¹".concat(e.amount),sortable:!0},{name:"Schedule",selector:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"badge bg-success text-white mt-1",children:e.date}),(0,s.jsx)("br",{}),(0,s.jsx)("span",{className:"badge bg-primary text-white mt-1",children:e.time})]}),sortable:!0},{name:"Status",selector:e=>{let a="";switch(e.status){case"Booked":a="btn-danger";break;case"Approved":a="btn-primary";break;case"In Collection":a="btn-warning";break;case"Collected":a="btn-info";break;case"Uploaded":a="btn-success";break;default:a="btn-secondary"}return(0,s.jsx)("button",{className:"btn btn-sm ".concat(a),children:e.status})},sortable:!0}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{}),(0,s.jsx)("div",{className:"min-h-screen flex flex-col bg-light",children:(0,s.jsx)("div",{className:"container flex-grow h-100",children:(0,s.jsx)("div",{className:"row banner-content",children:(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsxs)("div",{className:"card p-4 shadow",style:{width:"100%"},children:[(0,s.jsx)("h4",{className:"text-xl font-bold mb-4",children:"Lab Test Order History"}),(0,s.jsx)(l.Ay,{columns:f,data:t,progressPending:i,pagination:!0,responsive:!0,subHeader:!0,subHeaderComponent:(0,s.jsx)("div",{className:"d-flex w-100",children:(0,s.jsx)("input",{type:"text",className:"form-control me-auto",style:{width:"30%"},placeholder:"Search by name or order ID",value:h,onChange:e=>x(e.target.value)})})})]})})})})})})}),(0,s.jsx)(c.A,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[9675,6711,5180,7124,143,8441,1684,7358],()=>a(3893)),_N_E=e.O()}]);