(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{207:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>o});var t=s(5155),r=s(2115),l=s(7124),c=s(883);let o=()=>{let[e,a]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),[n,d]=(0,r.useState)(!0),[i,h]=(0,r.useState)(null),[p,u]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("id");e?h(Number(e)):(console.warn("No user_id found in localStorage"),d(!1))},[]),(0,r.useEffect)(()=>{i&&m(i)},[i]);let m=async e=>{try{let s=await fetch(c.vk,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})}),t=await s.json();a(t.data),o(t.data)}catch(e){console.error("Error loading data:",e)}finally{d(!1)}};(0,r.useEffect)(()=>{o(e.filter(e=>e.package.package_name.toLowerCase().includes(p.toLowerCase())))},[p,e]);let g=[{name:"Package Name",selector:e=>e.package.package_name,sortable:!0},{name:"Amount",selector:e=>"â‚¹".concat(e.package.amount),sortable:!0},{name:"Purchased At",selector:e=>new Date(e.package.created_at).toLocaleString(),sortable:!0}];return(0,t.jsx)("div",{className:"min-h-screen flex flex-col bg-light",children:(0,t.jsx)("div",{className:"container flex-grow h-100",children:(0,t.jsx)("div",{className:"row banner-content",children:(0,t.jsx)("div",{className:"col-lg-12",children:(0,t.jsx)("div",{className:"row",children:(0,t.jsx)("div",{className:"col-md-12",children:(0,t.jsxs)("div",{className:"card p-4 shadow",style:{width:"100%"},children:[(0,t.jsx)("h4",{className:"text-xl font-bold mb-4",children:"Purchase History"}),(0,t.jsx)(l.Ay,{columns:g,data:s,progressPending:n,pagination:!0,responsive:!0,subHeader:!0,subHeaderComponent:(0,t.jsx)("div",{className:"d-flex w-100",children:(0,t.jsx)("input",{type:"text",className:"form-control me-auto",style:{width:"30%"},placeholder:"Search ",value:p,onChange:e=>u(e.target.value)})})})]})})})})})})})}},883:(e,a,s)=>{"use strict";s.d(a,{$P:()=>u,TU:()=>c,aK:()=>l,eT:()=>d,ec:()=>p,ox:()=>n,pH:()=>o,q5:()=>h,vk:()=>i,vo:()=>r});let t="https://shreevasudev.in/smartApi/",r="https://smarthealthbackend.shreevasudev.in/uploads/logos/",l=t+"settings.php",c=t+"userregister.php",o=t+"userlogin.php",n=t+"packages.php",d=t+"purchase.php",i=t+"userorders.php",h=t+"userdashboard.php",p=t+"changepassword.php",u=t+"search.php"},4944:(e,a,s)=>{Promise.resolve().then(s.bind(s,207))}},e=>{var a=a=>e(e.s=a);e.O(0,[124,441,684,358],()=>a(4944)),_N_E=e.O()}]);