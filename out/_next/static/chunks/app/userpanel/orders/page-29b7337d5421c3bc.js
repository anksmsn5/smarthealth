(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9162],{207:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(5155),r=t(2115),l=t(7124),n=t(883),o=t(143),c=t(1362);let d=()=>{let[e,a]=(0,r.useState)([]),[t,d]=(0,r.useState)([]),[i,m]=(0,r.useState)(!0),[u,h]=(0,r.useState)(null),[g,p]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=localStorage.getItem("id");e?h(Number(e)):(console.warn("No user_id found in localStorage"),m(!1))},[]),(0,r.useEffect)(()=>{u&&x(u)},[u]);let x=async e=>{try{let t=await fetch(n.vk,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})}),s=await t.json();a(s.data),d(s.data)}catch(e){console.error("Error loading data:",e)}finally{m(!1)}};(0,r.useEffect)(()=>{d(e.filter(e=>e.package.package_name.toLowerCase().includes(g.toLowerCase())))},[g,e]);let f=[{name:"Package Name",selector:e=>e.package.package_name,sortable:!0},{name:"Amount",selector:e=>"â‚¹".concat(e.package.amount),sortable:!0},{name:"Payment ID",selector:e=>e.razorpay_payment_id,sortable:!0},{name:"Order ID",selector:e=>e.razorpay_order_id,sortable:!0},{name:"Purchased At",selector:e=>new Date(e.created_at).toLocaleString(),sortable:!0}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{}),(0,s.jsx)("div",{className:"min-h-screen flex flex-col bg-light",children:(0,s.jsx)("div",{className:"container flex-grow h-100",children:(0,s.jsx)("div",{className:"row banner-content",children:(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsxs)("div",{className:"card p-4 shadow",style:{width:"100%"},children:[(0,s.jsx)("h4",{className:"text-xl font-bold mb-4",children:"Purchase History"}),(0,s.jsx)(l.Ay,{columns:f,data:t,progressPending:i,pagination:!0,responsive:!0,subHeader:!0,subHeaderComponent:(0,s.jsx)("div",{className:"d-flex w-100",children:(0,s.jsx)("input",{type:"text",className:"form-control me-auto",style:{width:"30%"},placeholder:"Search ",value:g,onChange:e=>p(e.target.value)})})})]})})})})})})}),(0,s.jsx)(c.A,{})]})}},918:(e,a,t)=>{Promise.resolve().then(t.bind(t,207))},1362:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});var s=t(5155);function r(){return(0,s.jsx)("footer",{className:"w-full bg-gray-100 text-center text-sm py-4 mt-auto lg:ml-64",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," My App. All rights reserved."]})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[9675,6711,5180,7124,143,8441,1684,7358],()=>a(918)),_N_E=e.O()}]);