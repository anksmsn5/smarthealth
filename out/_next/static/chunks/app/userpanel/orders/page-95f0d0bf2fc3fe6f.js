(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{4944:(e,a,t)=>{Promise.resolve().then(t.bind(t,9472))},9472:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var s=t(5155),l=t(2115),r=t(7124),n=t(883),c=t(143);function o(){return(0,s.jsx)("footer",{className:"w-full bg-gray-100 text-center text-sm py-4 mt-auto lg:ml-64",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," My App. All rights reserved."]})})}let d=()=>{let[e,a]=(0,l.useState)([]),[t,d]=(0,l.useState)([]),[i,u]=(0,l.useState)(!0),[m,h]=(0,l.useState)(null),[g,x]=(0,l.useState)("");(0,l.useEffect)(()=>{let e=localStorage.getItem("id");e?h(Number(e)):(console.warn("No user_id found in localStorage"),u(!1))},[]),(0,l.useEffect)(()=>{m&&f(m)},[m]);let f=async e=>{try{let t=await fetch(n.vk,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:e})}),s=await t.json();a(s.data),d(s.data)}catch(e){console.error("Error loading data:",e)}finally{u(!1)}};(0,l.useEffect)(()=>{d(e.filter(e=>e.package.package_name.toLowerCase().includes(g.toLowerCase())))},[g,e]);let p=[{name:"Package Name",selector:e=>e.package.package_name,sortable:!0},{name:"Amount",selector:e=>"â‚¹".concat(e.package.amount),sortable:!0},{name:"Purchased At",selector:e=>new Date(e.package.created_at).toLocaleString(),sortable:!0}];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.default,{}),(0,s.jsx)("div",{className:"min-h-screen flex flex-col bg-light",children:(0,s.jsx)("div",{className:"container flex-grow h-100",children:(0,s.jsx)("div",{className:"row banner-content",children:(0,s.jsx)("div",{className:"col-lg-12",children:(0,s.jsx)("div",{className:"row",children:(0,s.jsx)("div",{className:"col-md-12",children:(0,s.jsxs)("div",{className:"card p-4 shadow",style:{width:"100%"},children:[(0,s.jsx)("h4",{className:"text-xl font-bold mb-4",children:"Purchase History"}),(0,s.jsx)(r.Ay,{columns:p,data:t,progressPending:i,pagination:!0,responsive:!0,subHeader:!0,subHeaderComponent:(0,s.jsx)("div",{className:"d-flex w-100",children:(0,s.jsx)("input",{type:"text",className:"form-control me-auto",style:{width:"30%"},placeholder:"Search ",value:g,onChange:e=>x(e.target.value)})})})]})})})})})})}),(0,s.jsx)(o,{})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[675,711,159,124,143,441,684,358],()=>a(4944)),_N_E=e.O()}]);