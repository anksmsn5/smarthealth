(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8420],{8762:(e,a,s)=>{"use strict";s.d(a,{A:()=>i});var r=s(5155),l=s(2115),t=s(5695),o=s(3568),n=s(883);function i(e){let{redirection:a,onSuccess:s,logintype:i}=e,[d,c]=(0,l.useState)(""),[m,u]=(0,l.useState)(""),[p,g]=(0,l.useState)(""),h=(0,t.useRouter)(),[v,b]=(0,l.useState)(!1),y=async e=>{e.preventDefault(),b(!0);try{let e=await fetch(n.pH,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mobile:d,password:m,type:"User"===i?7:3})}),u=await e.json();if(e.ok){var r,l,t,c;localStorage.setItem("name",u.user.name),localStorage.setItem("id",u.user.id),localStorage.setItem("type",u.user.type),localStorage.setItem("address",u.user.address),localStorage.setItem("email",u.user.email),localStorage.setItem("mobile",u.user.mobile),localStorage.setItem("package_name",null==(l=u.user)||null==(r=l.package)?void 0:r.package_name),localStorage.setItem("package_id",null==(c=u.user)||null==(t=c.package)?void 0:t.id),a?(7==u.user.type&&("Yes"==u.user.password_changed?h.push("/userpanel/dashboard"):h.push("/userpanel/create-password")),3==u.user.type&&h.push("/agent/dashboard")):(null==s||s(),location.reload())}else o.Ay.error((null==u?void 0:u.message)||"Invalid Credentials.")}catch(e){o.Ay.error("Invalid Credentials. Or Account Inactive. Please contact Admnistrator."),console.error(e)}finally{b(!1)}};return(0,r.jsx)("form",{onSubmit:y,children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-12 form-group",children:(0,r.jsxs)("h3",{children:["Agent"===i?"Partner":"User"," Login"]})}),(0,r.jsxs)("div",{className:"col-md-12 form-group",children:[(0,r.jsx)("label",{children:"Enter Username/Email"}),(0,r.jsx)("input",{type:"email",name:"mobile",value:d,onChange:e=>c(e.target.value),className:"form-control"})]}),(0,r.jsxs)("div",{className:"col-md-12 form-group",children:[(0,r.jsx)("label",{children:"Enter Password"}),(0,r.jsx)("input",{type:"password",name:"password",value:m,onChange:e=>u(e.target.value),className:"form-control"})]}),(0,r.jsx)("div",{className:"col-md-12 form-group",children:(0,r.jsx)("input",{type:"submit",className:"btn btn-primary",value:v?"Logging in...":"Login",disabled:v})})]})})}},9840:(e,a,s)=>{Promise.resolve().then(s.bind(s,110)),Promise.resolve().then(s.bind(s,2758)),Promise.resolve().then(s.bind(s,5666)),Promise.resolve().then(s.bind(s,143)),Promise.resolve().then(s.bind(s,395))}},e=>{var a=a=>e(e.s=a);e.O(0,[9675,8118,6711,5180,3568,6766,6367,143,848,8441,1684,7358],()=>a(9840)),_N_E=e.O()}]);