(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[369],{1121:(e,s,a)=>{Promise.resolve().then(a.bind(a,5778))},5778:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var r=a(5155),t=a(2115),l=a(3568),n=a(883),d=a(143);let c=()=>{let[e,s]=(0,t.useState)(""),[a,c]=(0,t.useState)(""),[i,o]=(0,t.useState)(""),[m,u]=(0,t.useState)(""),[h,f]=(0,t.useState)(null),[p,b]=(0,t.useState)(!1);(0,t.useEffect)(()=>{f(localStorage.getItem("id"))},[]);let w=async r=>{if(r.preventDefault(),a!==i)return void l.Ay.error("New Password and confirm new password do not match.");b(!0);try{let r=await fetch(n.ec,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:h,oldPassword:e,newPassword:a,confirmPassword:i})}),t=await r.json();r.ok?(l.Ay.success("Password has been changed successfully."),s(""),c(""),o("")):l.Ay.error(t.message||"Failed to change password.")}catch(e){l.Ay.error("Server Error!")}finally{b(!1)}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.default,{}),(0,r.jsx)("div",{className:"min-vh-100 d-flex justify-content-center align-items-center bg-light",children:(0,r.jsx)("div",{className:"container d-flex justify-content-center",children:(0,r.jsxs)("div",{className:"card p-4 shadow mb-3 mt-3",style:{maxWidth:"400px",width:"100%"},children:[(0,r.jsx)("h4",{className:"mb-3",children:"Change Password"}),m&&(0,r.jsx)("div",{className:"alert alert-info",children:m}),(0,r.jsxs)("form",{onSubmit:w,children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Old Password"}),(0,r.jsx)("input",{type:"password",className:"form-control",value:e,onChange:e=>s(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"New Password"}),(0,r.jsx)("input",{type:"password",className:"form-control",value:a,onChange:e=>c(e.target.value),required:!0})]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Confirm New Password"}),(0,r.jsx)("input",{type:"password",className:"form-control",value:i,onChange:e=>o(e.target.value),required:!0})]}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary w-100",disabled:p,children:p?"Updating...":"Update Password"})]})]})})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[675,711,159,568,143,441,684,358],()=>s(1121)),_N_E=e.O()}]);