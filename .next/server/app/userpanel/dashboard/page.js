(()=>{var e={};e.id=545,e.ids=[545],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32775:(e,s,t)=>{Promise.resolve().then(t.bind(t,34959))},33873:e=>{"use strict";e.exports=require("path")},34959:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>N});var a=t(60687),r=t(43210),n=t(19361),l=t(7362),i=t(77567),d=t(71178),c=t(69662),o=t.n(c),m=t(98466);let h=r.forwardRef(({bsPrefix:e,variant:s,animation:t="border",size:r,as:n="div",className:l,...i},d)=>{e=(0,m.oU)(e,"spinner");let c=`${e}-${t}`;return(0,a.jsx)(n,{ref:d,...i,className:o()(l,c,r&&`${c}-${r}`,s&&`text-${s}`)})});h.displayName="Spinner";var x=t(23877);let p=({show:e,onHide:s,doctor:t})=>(0,a.jsxs)(d.A,{show:e,onHide:s,centered:!0,dialogClassName:"modal-xl doctor-modal",backdropClassName:"custom-backdrop",children:[(0,a.jsx)(d.A.Header,{className:"bg-secondary text-white",closeButton:!0,children:(0,a.jsx)(d.A.Title,{children:"Doctor Profile"})}),(0,a.jsxs)(d.A.Body,{children:[(0,a.jsxs)("h5",{children:[(0,a.jsx)(x.REg,{className:"me-2"})," ",t.name]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(x.maD,{className:"me-2"})," ",t.email]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(x.Cab,{className:"me-2"})," ",t.mobile]}),(0,a.jsxs)("p",{children:[(0,a.jsx)(x._mT,{className:"me-2"})," ",t.address,", ",t.city,", ",t.state]}),(0,a.jsxs)("p",{children:["Distance: ",t.distance.toFixed(2)," km away"]})]})]}),u=({show:e,onHide:s,doctor:t})=>(0,a.jsxs)(d.A,{show:e,onHide:s,centered:!0,dialogClassName:"modal-xl doctor-modal",backdropClassName:"",children:[(0,a.jsx)(d.A.Header,{className:"bg-success text-white",closeButton:!0,children:(0,a.jsxs)(d.A.Title,{children:["Book Appointment with ",t.name]})}),(0,a.jsx)(d.A.Body,{children:(0,a.jsxs)("form",{children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{className:"form-label",children:"Appointment Date"}),(0,a.jsx)("input",{type:"date",className:"form-control"})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("label",{className:"form-label",children:"Message"}),(0,a.jsx)("textarea",{className:"form-control",rows:3})]}),(0,a.jsx)("button",{type:"submit",className:"btn btn-success",children:"Book Appointment"})]})})]}),j=({show:e,onHide:s,user_id:t})=>{let[l,i]=(0,r.useState)([]),[c,o]=(0,r.useState)(!1),[m,j]=(0,r.useState)(""),[b,N]=(0,r.useState)(null),[v,g]=(0,r.useState)(!1),[f,w]=(0,r.useState)(!1);(0,r.useEffect)(()=>{e&&y()},[e]);let y=async()=>{o(!0),j("");try{let e=await fetch(n.qK,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:t})}),s=await e.json();s.status&&s.data?i(s.data):j(s.message||"Unable to fetch doctors.")}catch(e){console.error(e),j("Something went wrong while fetching doctors.")}finally{o(!1)}},k=e=>{N(e),g(!0)},A=e=>{N(e),w(!0)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d.A,{show:e,onHide:s,centered:!0,dialogClassName:"modal-lg",children:[(0,a.jsx)(d.A.Header,{className:"bg-primary text-white",closeButton:!0,children:(0,a.jsx)(d.A.Title,{className:"text-white",children:"Book Appointment"})}),(0,a.jsx)(d.A.Body,{children:c?(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(h,{animation:"border"}),(0,a.jsx)("p",{children:"Loading nearby doctors..."})]}):m?(0,a.jsx)("div",{className:"text-danger text-center",children:m}):l.length>0?(0,a.jsx)("div",{className:"row",children:l.map(e=>(0,a.jsx)("div",{className:"col-md-6 mb-4",children:(0,a.jsxs)("div",{className:"card h-100 shadow-sm",children:[(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("h5",{className:"card-title",children:[(0,a.jsx)(x.REg,{className:"me-2"})," ",e.name]}),(0,a.jsxs)("p",{className:"card-text mb-1",children:[(0,a.jsx)(x.maD,{className:"me-2"})," ",e.email]}),(0,a.jsxs)("p",{className:"card-text mb-1",children:[(0,a.jsx)(x.Cab,{className:"me-2"})," ",e.mobile]}),(0,a.jsxs)("p",{className:"card-text",children:[(0,a.jsx)(x._mT,{className:"me-2"})," ",e.address,", ",e.city,", ",e.state]})]}),(0,a.jsxs)("div",{className:"card-footer bg-white",children:[(0,a.jsxs)("div",{className:"row g-2",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)("button",{className:"btn btn-sm btn-primary w-100",children:[(0,a.jsx)(x.meu,{className:"me-2"}),e.distance.toFixed(2)," km away"]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)("button",{className:"btn btn-sm btn-secondary w-100",onClick:()=>window.open(`https://www.google.com/maps/search/?api=1&query=${e.latitude},${e.longitude}`,"_blank"),children:[(0,a.jsx)(x._mT,{className:"me-1"}),"Locate on Map"]})})]}),(0,a.jsxs)("div",{className:"row g-2 mt-2",children:[(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)("button",{className:"btn btn-sm btn-success w-100",onClick:()=>k(e),children:[(0,a.jsx)(x.__w,{className:"me-1"}),"View Profile"]})}),(0,a.jsx)("div",{className:"col-6",children:(0,a.jsxs)("button",{className:"btn btn-sm btn-warning w-100",onClick:()=>A(e),children:[(0,a.jsx)(x.gUT,{className:"me-1"}),"Book Now"]})})]})]})]})},e.id))}):(0,a.jsx)("div",{className:"text-center",children:"No nearby doctors found."})})]}),b&&(0,a.jsx)(p,{show:v,onHide:()=>g(!1),doctor:b}),b&&(0,a.jsx)(u,{show:f,onHide:()=>w(!1),doctor:b})]})},b=({show:e,onHide:s})=>(0,a.jsxs)(d.A,{show:e,onHide:s,children:[(0,a.jsx)(d.A.Header,{closeButton:!0,children:(0,a.jsx)(d.A.Title,{children:"Book Appointment"})}),(0,a.jsx)(d.A.Body,{})]});function N(){let[e,s]=(0,r.useState)(null),[t,n]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),[o,m]=(0,r.useState)(null),[h,x]=(0,r.useState)([]),[p,u]=(0,r.useState)([]),[N,v]=(0,r.useState)(!1),[g,f]=(0,r.useState)(!1),[w,y]=(0,r.useState)(null),[k,A]=(0,r.useState)({name:"",email:"",mobile:""}),[_,S]=(0,r.useState)(!0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.default,{}),(0,a.jsx)("div",{className:"min-vh-100 d-flex flex-column bg-light py-4",children:(0,a.jsxs)("div",{className:"container flex-grow-1",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[(0,a.jsx)("h4",{className:"fw-bold mb-0",children:"Dashboard"}),null!==e&&e>=1?(0,a.jsxs)("span",{className:"badge bg-primary text-white px-3 py-2",children:["Currently Active Package: ",t]}):(0,a.jsx)("span",{className:"badge bg-danger text-white px-3 py-2",children:"No Active Package"})]}),_?(0,a.jsx)("p",{children:"Loading..."}):(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-md-6 mb-4",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header bg-primary text-white",children:"Your Appointments"}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary",children:"View All"}),(0,a.jsx)("button",{type:"button",className:"btn btn-success",onClick:()=>{(e??0)>=1?v(!0):i.A.fire({icon:"error",title:"No Active Package",text:"You must purchase a package before booking an appointment."})},children:"Book Appointment"})]}),(0,a.jsxs)("table",{className:"table table-striped",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"ID"}),(0,a.jsx)("th",{children:"Date"}),(0,a.jsx)("th",{children:"Doctor"}),(0,a.jsx)("th",{children:"Status"})]})}),(0,a.jsx)("tbody",{children:h.length>0?h.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.id}),(0,a.jsx)("td",{children:e.appointment_date}),(0,a.jsx)("td",{children:e.doctor_name}),(0,a.jsx)("td",{children:e.status})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center",children:"No appointments found"})})})]})]})]})}),(0,a.jsx)("div",{className:"col-md-6 mb-4",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("div",{className:"card-header bg-primary text-white",children:"Lab Reports"}),(0,a.jsxs)("div",{className:"card-body",children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between mb-3",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary",children:"View All"}),(0,a.jsx)("button",{type:"button",className:"btn btn-success",onClick:()=>{(e??0)>=1?f(!0):i.A.fire({icon:"error",title:"No Active Package",text:"You must purchase a package before booking a Lab test."})},children:"Book Lab Test"})]}),(0,a.jsxs)("table",{className:"table table-striped",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"ID"}),(0,a.jsx)("th",{children:"Test Name"}),(0,a.jsx)("th",{children:"Test Date"}),(0,a.jsx)("th",{children:"Status"})]})}),(0,a.jsx)("tbody",{children:p.length>0?p.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.id}),(0,a.jsx)("td",{children:e.test_name}),(0,a.jsx)("td",{children:e.test_date}),(0,a.jsx)("td",{children:e.status})]},e.id)):(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"text-center",children:"No lab tests found"})})})]})]})]})})]})]})}),N&&(0,a.jsx)(j,{show:N,onHide:()=>v(!1),user_id:w?parseInt(w):0}),g&&(0,a.jsx)(b,{show:g,onHide:()=>f(!1)})]})}},49647:(e,s,t)=>{Promise.resolve().then(t.bind(t,64430))},50539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>c});var a=t(65239),r=t(48088),n=t(88170),l=t.n(n),i=t(30893),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c={children:["",{children:["userpanel",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64430)),"/Users/ankursrivastava/Desktop/health/app/userpanel/dashboard/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"/Users/ankursrivastava/Desktop/health/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,o=["/Users/ankursrivastava/Desktop/health/app/userpanel/dashboard/page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/userpanel/dashboard/page",pathname:"/userpanel/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64430:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/ankursrivastava/Desktop/health/app/userpanel/dashboard/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/ankursrivastava/Desktop/health/app/userpanel/dashboard/page.tsx","default")},79551:e=>{"use strict";e.exports=require("url")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[447,526,658,42,304,991],()=>t(50539));module.exports=a})();